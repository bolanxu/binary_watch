                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.8.0 #10562 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module delay
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _P5_7
                                     12 	.globl _P5_6
                                     13 	.globl _P5_5
                                     14 	.globl _P5_4
                                     15 	.globl _P5_3
                                     16 	.globl _P5_2
                                     17 	.globl _P5_1
                                     18 	.globl _P5_0
                                     19 	.globl _CLK_DIV
                                     20 	.globl _P1M1
                                     21 	.globl _P1M0
                                     22 	.globl _P3M1
                                     23 	.globl _P3M0
                                     24 	.globl _P5
                                     25 	.globl _AUXR
                                     26 	.globl _DELAY_us
                                     27 	.globl _DELAY_ms
                                     28 ;--------------------------------------------------------
                                     29 ; special function registers
                                     30 ;--------------------------------------------------------
                                     31 	.area RSEG    (ABS,DATA)
      000000                         32 	.org 0x0000
                           00008E    33 _AUXR	=	0x008e
                           0000C8    34 _P5	=	0x00c8
                           0000B2    35 _P3M0	=	0x00b2
                           0000B1    36 _P3M1	=	0x00b1
                           000092    37 _P1M0	=	0x0092
                           000091    38 _P1M1	=	0x0091
                           000097    39 _CLK_DIV	=	0x0097
                                     40 ;--------------------------------------------------------
                                     41 ; special function bits
                                     42 ;--------------------------------------------------------
                                     43 	.area RSEG    (ABS,DATA)
      000000                         44 	.org 0x0000
                           0000C8    45 _P5_0	=	0x00c8
                           0000C9    46 _P5_1	=	0x00c9
                           0000CA    47 _P5_2	=	0x00ca
                           0000CB    48 _P5_3	=	0x00cb
                           0000CC    49 _P5_4	=	0x00cc
                           0000CD    50 _P5_5	=	0x00cd
                           0000CE    51 _P5_6	=	0x00ce
                           0000CF    52 _P5_7	=	0x00cf
                                     53 ;--------------------------------------------------------
                                     54 ; overlayable register banks
                                     55 ;--------------------------------------------------------
                                     56 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         57 	.ds 8
                                     58 ;--------------------------------------------------------
                                     59 ; internal ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area DSEG    (DATA)
                                     62 ;--------------------------------------------------------
                                     63 ; overlayable items in internal ram 
                                     64 ;--------------------------------------------------------
                                     65 	.area	OSEG    (OVR,DATA)
                                     66 ;--------------------------------------------------------
                                     67 ; indirectly addressable internal ram data
                                     68 ;--------------------------------------------------------
                                     69 	.area ISEG    (DATA)
                                     70 ;--------------------------------------------------------
                                     71 ; absolute internal ram data
                                     72 ;--------------------------------------------------------
                                     73 	.area IABS    (ABS,DATA)
                                     74 	.area IABS    (ABS,DATA)
                                     75 ;--------------------------------------------------------
                                     76 ; bit data
                                     77 ;--------------------------------------------------------
                                     78 	.area BSEG    (BIT)
                                     79 ;--------------------------------------------------------
                                     80 ; paged external ram data
                                     81 ;--------------------------------------------------------
                                     82 	.area PSEG    (PAG,XDATA)
                                     83 ;--------------------------------------------------------
                                     84 ; external ram data
                                     85 ;--------------------------------------------------------
                                     86 	.area XSEG    (XDATA)
                                     87 ;--------------------------------------------------------
                                     88 ; absolute external ram data
                                     89 ;--------------------------------------------------------
                                     90 	.area XABS    (ABS,XDATA)
                                     91 ;--------------------------------------------------------
                                     92 ; external initialized ram data
                                     93 ;--------------------------------------------------------
                                     94 	.area XISEG   (XDATA)
                                     95 	.area HOME    (CODE)
                                     96 	.area GSINIT0 (CODE)
                                     97 	.area GSINIT1 (CODE)
                                     98 	.area GSINIT2 (CODE)
                                     99 	.area GSINIT3 (CODE)
                                    100 	.area GSINIT4 (CODE)
                                    101 	.area GSINIT5 (CODE)
                                    102 	.area GSINIT  (CODE)
                                    103 	.area GSFINAL (CODE)
                                    104 	.area CSEG    (CODE)
                                    105 ;--------------------------------------------------------
                                    106 ; global & static initialisations
                                    107 ;--------------------------------------------------------
                                    108 	.area HOME    (CODE)
                                    109 	.area GSINIT  (CODE)
                                    110 	.area GSFINAL (CODE)
                                    111 	.area GSINIT  (CODE)
                                    112 ;--------------------------------------------------------
                                    113 ; Home
                                    114 ;--------------------------------------------------------
                                    115 	.area HOME    (CODE)
                                    116 	.area HOME    (CODE)
                                    117 ;--------------------------------------------------------
                                    118 ; code
                                    119 ;--------------------------------------------------------
                                    120 	.area CSEG    (CODE)
                                    121 ;------------------------------------------------------------
                                    122 ;Allocation info for local variables in function 'DELAY_us'
                                    123 ;------------------------------------------------------------
                                    124 ;us_count                  Allocated to registers 
                                    125 ;------------------------------------------------------------
                                    126 ;	delay.c:53: void DELAY_us(uint16_t us_count)
                                    127 ;	-----------------------------------------
                                    128 ;	 function DELAY_us
                                    129 ;	-----------------------------------------
      000000                        130 _DELAY_us:
                           000007   131 	ar7 = 0x07
                           000006   132 	ar6 = 0x06
                           000005   133 	ar5 = 0x05
                           000004   134 	ar4 = 0x04
                           000003   135 	ar3 = 0x03
                           000002   136 	ar2 = 0x02
                           000001   137 	ar1 = 0x01
                           000000   138 	ar0 = 0x00
                                    139 ;	delay.c:63: }
      000000 22               [24]  140 	ret
                                    141 ;------------------------------------------------------------
                                    142 ;Allocation info for local variables in function 'DELAY_ms'
                                    143 ;------------------------------------------------------------
                                    144 ;ms_count                  Allocated to registers 
                                    145 ;------------------------------------------------------------
                                    146 ;	delay.c:78: void DELAY_ms(uint16_t ms_count)
                                    147 ;	-----------------------------------------
                                    148 ;	 function DELAY_ms
                                    149 ;	-----------------------------------------
      000001                        150 _DELAY_ms:
      000001 AE 82            [24]  151 	mov	r6,dpl
      000003 AF 83            [24]  152 	mov	r7,dph
                                    153 ;	delay.c:80: while(ms_count!=0)
      000005                        154 00101$:
      000005 EE               [12]  155 	mov	a,r6
      000006 4F               [12]  156 	orl	a,r7
      000007 60 15            [24]  157 	jz	00104$
                                    158 ;	delay.c:82: DELAY_us(C_CountForOneMsDelay_U16);     //DELAY_us is called to generate 1ms delay
      000009 90 00 F0         [24]  159 	mov	dptr,#0x00f0
      00000C C0 07            [24]  160 	push	ar7
      00000E C0 06            [24]  161 	push	ar6
      000010 12r00r00         [24]  162 	lcall	_DELAY_us
      000013 D0 06            [24]  163 	pop	ar6
      000015 D0 07            [24]  164 	pop	ar7
                                    165 ;	delay.c:83: ms_count--;
      000017 1E               [12]  166 	dec	r6
      000018 BE FF 01         [24]  167 	cjne	r6,#0xff,00116$
      00001B 1F               [12]  168 	dec	r7
      00001C                        169 00116$:
      00001C 80 E7            [24]  170 	sjmp	00101$
      00001E                        171 00104$:
                                    172 ;	delay.c:86: }
      00001E 22               [24]  173 	ret
                                    174 	.area CSEG    (CODE)
                                    175 	.area CONST   (CODE)
                                    176 	.area XINIT   (CODE)
                                    177 	.area CABS    (ABS,CODE)
